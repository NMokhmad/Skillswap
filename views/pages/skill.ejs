<%- include('../partials/header.ejs') %>
</head>
<%- include('../partials/navbar.ejs') %>

<div class="ss-sp-page">
  <main class="ss-sp-main">
    <div class="ss-sp-container">

      <!-- Header compétence -->
      <div class="ss-sp-header">
        <div class="ss-sp-icon-wrap">
          <i class="fa-solid <%= skill.icon || 'fa-code' %>"></i>
        </div>
        <h1 class="ss-sp-title"><%= skill.label %></h1>
        <div class="ss-sp-counter">
          <i class="fa-solid fa-users"></i>
          <span><%= skill.users.length %> <%= skill.users.length > 1 ? 'talents disponibles' : 'talent disponible' %></span>
        </div>
        <div class="ss-sp-tags">
          <span class="ss-sp-tag"><i class="fa-solid fa-fire"></i> Populaire</span>
          <span class="ss-sp-tag"><i class="fa-solid fa-star"></i> Demandée</span>
        </div>
      </div>

      <% if (skill.users.length > 0) { %>
        <h2 class="ss-sp-section-title">
          <i class="fa-solid fa-user-check"></i>
          Talents maîtrisant cette compétence
        </h2>

        <div class="ss-sp-grid">
          <% skill.users.forEach((user) => { %>
            <a href="/talents/<%= user.id %>" class="ss-sp-card-link">
              <div class="ss-sp-card">
                <div class="ss-sp-card-avatar">
                  <i class="fa-solid fa-user"></i>
                </div>
                <p class="ss-sp-card-name"><%= user.firstname %></p>
              </div>
            </a>
          <% }) %>
        </div>

      <% } else { %>

        <div class="ss-sp-empty">
          <i class="fa-solid fa-users-slash ss-sp-empty-icon"></i>
          <h3 class="ss-sp-empty-title">Aucun talent disponible</h3>
          <p class="ss-sp-empty-text">Cette compétence n'a pas encore de talents inscrits. Soyez le premier !</p>
          <div class="ss-sp-suggestions">
            <p class="ss-sp-suggestions-title">
              <i class="fa-solid fa-lightbulb"></i> Que faire en attendant ?
            </p>
            <ul class="ss-sp-suggestion-list">
              <li><i class="fa-solid fa-bell"></i> Activez les notifications pour cette compétence</li>
              <li><i class="fa-solid fa-share-nodes"></i> Partagez cette compétence avec votre réseau</li>
              <li><i class="fa-solid fa-compass"></i> Explorez des compétences similaires</li>
            </ul>
          </div>
        </div>

      <% } %>

      <!-- Bouton retour -->
      <div class="ss-sp-back-wrap">
        <a href="/skills" class="ss-sp-back-btn">
          <i class="fa-solid fa-arrow-left"></i>
          Retour aux compétences
        </a>
      </div>

    </div>
  </main>
</div>

<%- include('../partials/footer.ejs') %>

</body>
</html>
